1582314419
s:15639:"{"version":"1.6.21","date":"2020-02-12T00:17:52Z","assets":{"grav-admin":{"name":"grav-admin-v1.6.21.zip","type":"application\/octet-stream","size":10976381,"download":"https:\/\/getgrav.org\/download\/core\/grav-admin\/1.6.21"},"grav-update":{"name":"grav-update-v1.6.21.zip","type":"application\/octet-stream","size":4097491,"download":"https:\/\/getgrav.org\/download\/core\/grav-update\/1.6.21"},"grav":{"name":"grav-v1.6.21.zip","type":"application\/octet-stream","size":6265610,"download":"https:\/\/getgrav.org\/download\/core\/grav\/1.6.21"}},"url":"https:\/\/github.com\/getgrav\/grav\/releases\/tag\/1.6.21","min_php":"7.1.3","changelog":{"1.6.21":{"date":"02\/11\/2020","content":"1. [](#new)\n    * Added `ConsoleCommand::setLanguage()` method to set language to be used from CLI\n    * Added `ConsoleCommand::initializeGrav()` method to properly set up Grav instance to be used from CLI\n    * Added `ConsoleCommand::initializePlugins()`method to properly set up all plugins to be used from CLI\n    * Added `ConsoleCommand::initializeThemes()`method to properly set up current theme to be used from CLI\n    * Added `ConsoleCommand::initializePages()` method to properly set up pages to be used from CLI\n1. [](#improved)\n    * Vendor updates\n1. [](#bugfix)\n    * Fixed `bin\/plugin` CLI calling `$themes->init()` way too early (removed it, use above methods instead)\n    * Fixed call to `$grav['page']` crashing CLI\n    * Fixed encoding problems when PHP INI setting `default_charset` is not `utf-8` [#2154](https:\/\/github.com\/getgrav\/grav\/issues\/2154)"},"1.6.20":{"date":"02\/03\/2020","content":"1. [](#bugfix)\n    * Fixed incorrect routing caused by `str_replace()` in `Uri::init()` [#2754](https:\/\/github.com\/getgrav\/grav\/issues\/2754)\n    * Fixed session cookie is being set twice in the HTTP header [#2745](https:\/\/github.com\/getgrav\/grav\/issues\/2745)\n    * Fixed session not restarting if user was invalid (downgrading from Grav 1.7)\n    * Fixed filesystem iterator calls with non-existing folders\n    * Fixed `checkbox` field not being saved, requires also Form v4.0.2 [#1225](https:\/\/github.com\/getgrav\/grav\/issues\/1225)\n    * Fixed `validation: strict` not working in blueprints [#1273](https:\/\/github.com\/getgrav\/grav\/issues\/1273)\n    * Fixed `Data::filter()` removing empty fields (such as empty list) by default [#2805](https:\/\/github.com\/getgrav\/grav\/issues\/2805)\n    * Fixed fatal error with non-integer page param value [#2803](https:\/\/github.com\/getgrav\/grav\/issues\/2803)\n    * Fixed `Assets::addInlineJs()` parameter type mismatch between v1.5 and v1.6 [#2659](https:\/\/github.com\/getgrav\/grav\/issues\/2659)\n    * Fixed `site.metadata` saving issues [#2615](https:\/\/github.com\/getgrav\/grav\/issues\/2615)"},"1.6.19":{"date":"12\/04\/2019","content":"1. [](#new)\n    * Catch PHP 7.4 deprecation messages and report them in debugbar instead of throwing fatal error\n1. [](#bugfix)\n    * Fixed fatal error when calling `{{ grav.undefined }}`\n    * Fixed multiple issues when there are no pages in the site\n    * PHP 7.4 fix for [#2750](https:\/\/github.com\/getgrav\/grav\/issues\/2750)"},"1.6.18":{"date":"12\/02\/2019","content":"1. [](#bugfix)\n    * PHP 7.4 fix in `Pages::buildSort()`\n    * Updated vendor libraries for PHP 7.4 fixes in Twig and other libraries\n    * Fixed fatal error when `$page->id()` is null [#2731](https:\/\/github.com\/getgrav\/grav\/pull\/2731)\n    * Fixed cache conflicts on pages with no set id\n    * Fix rewrite rule for for `lighttpd` default config [#721](https:\/\/github.com\/getgrav\/grav\/pull\/2721)"},"1.6.17":{"date":"11\/06\/2019","content":"1. [](#new)\n    * Added working ETag (304 Not Modified) support based on the final rendered HTML\n1. [](#improved)\n    * Safer file handling + customizable null char replacement in `CsvFormatter::decode()`\n    * Change of Behavior: `Inflector::hyphenize` will now automatically trim dashes at beginning and end of a string.\n    * Change in Behavior for `Folder::all()` so no longer fails if trying to copy non-existent dot file [#2581](https:\/\/github.com\/getgrav\/grav\/pull\/2581)\n    * renamed composer `test-plugins` script to `phpstan-plugins` to be more explicit [#2637](https:\/\/github.com\/getgrav\/grav\/pull\/2637)\n1. [](#bugfix)\n    * Fixed PHP 7.1 bug in FlexMedia\n    * Fix cache image generation when using cropResize [#2639](https:\/\/github.com\/getgrav\/grav\/pull\/2639)\n    * Fix `array_merge()` exception with non-array page header metadata [#2701](https:\/\/github.com\/getgrav\/grav\/pull\/2701)"},"1.6.16":{"date":"09\/19\/2019","content":"1. [](#bugfix)\n    * Fixed Flex user creation if file storage is being used [#2444](https:\/\/github.com\/getgrav\/grav\/issues\/2444)\n    * Fixed `Badly encoded JSON data` warning when uploading files [#2663](https:\/\/github.com\/getgrav\/grav\/issues\/2663)"},"1.6.15":{"date":"08\/20\/2019","content":"1. [](#improved)\n    * Improved robots.txt [#2632](https:\/\/github.com\/getgrav\/grav\/issues\/2632)\n1. [](#bugfix)\n    * Fixed broken markdown Twig tag [#2635](https:\/\/github.com\/getgrav\/grav\/issues\/2635)\n    * Force Symfony 4.2 in Grav 1.6 to remove a bunch of deprecated messages"},"1.6.14":{"date":"08\/18\/2019","content":"1. [](#bugfix)\n    * Actually include fix for `system\\router.php` [#2627](https:\/\/github.com\/getgrav\/grav\/issues\/2627)"},"1.6.13":{"date":"08\/16\/2019","content":"1. [](#bugfix)\n    * Regression fix for `system\\router.php` [#2627](https:\/\/github.com\/getgrav\/grav\/issues\/2627)"},"1.6.12":{"date":"08\/14\/2019","content":"1. [](#new)\n    * Added support for custom `FormFlash` save locations\n    * Added a new `Utils::arrayLower()` method for lowercasing arrays\n    * Support new GRAV_BASEDIR environment variable [#2541](https:\/\/github.com\/getgrav\/grav\/pull\/2541)\n    * Allow users to override plugin handler priorities [#2165](https:\/\/github.com\/getgrav\/grav\/pull\/2165)\n1. [](#improved)\n    * Use new `Utils::getSupportedPageTypes()` to enforce `html,htm` at the front of the list [#2531](https:\/\/github.com\/getgrav\/grav\/issues\/2531)\n    * Updated vendor libraries\n    * Markdown filter is now page-aware so that it works with modular references [admin#1731](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/1731)\n    * Check of `GRAV_USER_INSTANCE` constant is already defined [#2621](https:\/\/github.com\/getgrav\/grav\/pull\/2621)\n1. [](#bugfix)\n    * Fixed some potential issues when `$grav['user']` is not set\n    * Fixed error when calling `Media::add($name, null)`\n    * Fixed `url()` returning wrong path if using stream with grav root path in it, eg: `user-data:\/\/shop` when Grav is in `\/shop`\n    * Fixed `url()` not returning a path to non-existing file (`user-data:\/\/shop` => `\/user\/data\/shop`) if it is set to fail gracefully\n    * Fixed `url()` returning false on unknown streams, such as `ftp:\/\/domain.com`, they should be treated as external URL\n    * Fixed Flex User to have permissions to save and delete his own user\n    * Fixed new Flex User creation not being possible because of username could not be given\n    * Fixed fatal error 'Expiration date must be an integer, a DateInterval or null, \"double\" given' [#2529](https:\/\/github.com\/getgrav\/grav\/issues\/2529)\n    * Fixed non-existing Flex object having a bad media folder\n    * Fixed collections using `page@.self:` should allow modular pages if requested\n    * Fixed an error when trying to delete a file from non-existing Flex Object\n    * Fixed `FlexObject::exists()` failing sometimes just after the object has been saved\n    * Fixed CSV formatter not encoding strings with `\"` and `,` properly\n    * Fixed var order in `Validation.php` [#2610](https:\/\/github.com\/getgrav\/grav\/issues\/2610)"},"1.6.11":{"date":"06\/21\/2019","content":"1. [](#new)\n    * Added `FormTrait::getAllFlashes()` method to get all the available form flash objects for the form\n    * Added creation and update timestamps to `FormFlash` objects\n1. [](#improved)\n    * Added `FormFlashInterface`, changed constructor to take `$config` array\n1. [](#bugfix)\n    * Fixed error in `ImageMedium::url()` if the image cache folder does not exist\n    * Fixed empty form flash name after file upload or form state update\n    * Fixed a bug in `Route::withParam()` method\n    * Fixed issue with `FormFlash` objects when there is no session initialized"},"1.6.10":{"date":"06\/14\/2019","content":"1. [](#improved)\n    * Added **page blueprints** to `YamlLinter` CLI and Admin reports\n    * Removed `Gitter` and `Slack` [#2502](https:\/\/github.com\/getgrav\/grav\/issues\/2502)\n    * Optimizations for Plugin\/Theme loading\n    * Generalized markdown classes so they can be used outside of `Page` scope with a custom `Excerpts` class instance\n    * Change minimal port number to 0 (unix socket) [#2452](https:\/\/github.com\/getgrav\/grav\/issues\/2452)\n1. [](#bugfix)\n    * Force question to install demo content in theme update [#2493](https:\/\/github.com\/getgrav\/grav\/issues\/2493)\n    * Fixed GPM errors from blueprints not being logged [#2505](https:\/\/github.com\/getgrav\/grav\/issues\/2505)\n    * Don't error when IP is invalid [#2507](https:\/\/github.com\/getgrav\/grav\/issues\/2507)\n    * Fixed regression with `bin\/plugin` not listing the plugins available (1c725c0)\n    * Fixed bitwise operator in `TwigExtension::exifFunc()` [#2518](https:\/\/github.com\/getgrav\/grav\/issues\/2518)\n    * Fixed issue with lang prefix incorrectly identifying as admin [#2511](https:\/\/github.com\/getgrav\/grav\/issues\/2511)\n    * Fixed issue with `U0ils::pathPrefixedBYLanguageCode()` and trailing slash [#2510](https:\/\/github.com\/getgrav\/grav\/issues\/2511)\n    * Fixed regresssion issue of `Utils::Url()` not returning `false` on failure. Added new optional `fail_gracefully` 3rd attribute to return string that caused failure [#2524](https:\/\/github.com\/getgrav\/grav\/issues\/2524)"},"1.6.9":{"date":"05\/09\/2019","content":"1. [](#new)\n    * Added `Route::withoutParams()` methods\n    * Added `Pages::setCheckMethod()` method to override page configuration in Admin Plugin\n    * Added `Cache::clearCache('invalidate')` parameter for just invalidating the cache without deleting any cached files\n    * Made `UserCollectionInderface` to extend `Countable` to get the count of existing users\n1. [](#improved)\n    * Flex admin: added default search options for flex objects\n    * Flex collection and object now fall back to the default template if template file doesn't exist\n    * Updated Vendor libraries including Twig 1.40.1\n    * Updated language files from `https:\/\/crowdin.com\/project\/grav-core`\n1. [](#bugfix)\n    * Fixed `$grav['route']` from being modified when the route instance gets modified\n    * Fixed Assets options array mixed with standalone priority [#2477](https:\/\/github.com\/getgrav\/grav\/issues\/2477)\n    * Fix for `avatar_url` provided by 3rd party providers\n    * Fixed non standard `lang` code lengths in `Utils` and `Session` detection\n    * Fixed saving a new object in Flex `SimpleStorage`\n    * Fixed exception in `Flex::getDirectories()` if the first parameter is set\n    * Output correct \"Last Updated\" in `bin\/gpm info` command\n    * Checkbox getting interpreted as string, so created new `Validation::filterCheckbox()`\n    * Fixed backwards compatibility to `select` field with `selectize.create` set to true [git-sync#141](https:\/\/github.com\/trilbymedia\/grav-plugin-git-sync\/issues\/141)\n    * Fixed `YamlFormatter::decode()` to always return array [#2494](https:\/\/github.com\/getgrav\/grav\/pull\/2494)\n    * Fixed empty `$grav['request']->getAttribute('route')->getExtension()`"},"1.6.8":{"date":"04\/23\/2019","content":"1. [](#new)\n    * Added `FlexCollection::filterBy()` method\n1. [](#bugfix)\n    * Revert `Use Null Coalesce Operator` [#2466](https:\/\/github.com\/getgrav\/grav\/pull\/2466)\n    * Fixed `FormTrait::render()` not providing config variable\n    * Updated `bin\/grav clean` to clear `cache\/compiled` and `user\/config\/security.yaml`"},"1.6.7":{"date":"04\/22\/2019","content":"1. [](#new)\n    * Added a new `bin\/grav yamllinter` CLI command to find YAML Linting issues [#2468](https:\/\/github.com\/getgrav\/grav\/issues\/2468#issuecomment-485151681)\n1. [](#improved)\n    * Improve `FormTrait` backwards compatibility with existing forms\n    * Added a new `Utils::getSubnet()` function for IPv4\/IPv6 parsing [#2465](https:\/\/github.com\/getgrav\/grav\/pull\/2465)\n1. [](#bugfix)\n    * Remove disabled fields from the form schema\n    * Fix issue when excluding `inlineJs` and `inlineCss` from Assets pipeline [#2468](https:\/\/github.com\/getgrav\/grav\/issues\/2468)\n    * Fix for manually set position on external URLs [#2470](https:\/\/github.com\/getgrav\/grav\/issues\/2470)"},"1.6.6":{"date":"04\/17\/2019","content":"1. [](#new)\n    * `FormInterface` now implements `RenderInterface`\n    * Added new `FormInterface::getTask()` method which reads the task from `form.task` in the blueprint\n1. [](#improved)\n    * Updated vendor libraries to latest\n1. [](#bugfix)\n    * Rollback `redirect_default_route` logic as it has issues with multi-lang [#2459](https:\/\/github.com\/getgrav\/grav\/issues\/2459)\n    * Fix potential issue with `|contains` Twig filter on PHP 7.3\n    * Fixed bug in text field filtering: return empty string if value isn't a string or number [#2460](https:\/\/github.com\/getgrav\/grav\/issues\/2460)\n    * Force Asset `priority` to be an integer and not throw error if invalid string passed [#2461](https:\/\/github.com\/getgrav\/grav\/issues\/2461)\n    * Fixed bug in text field filtering: return empty string if value isn't a string or number\n    * Fixed `FlexForm` missing getter methods for defining form variables"},"1.6.5":{"date":"04\/15\/2019","content":"1. [](#bugfix)\n    * Backwards compatiblity with old `Uri::__toString()` output"},"1.6.4":{"date":"04\/15\/2019","content":"1. [](#bugfix)\n    * Improved `redirect_default_route` logic as well as `Uri::toArray()` to take into account `root_path` and `extension`\n    * Rework logic to pull out excluded files from pipeline more reliably [#2445](https:\/\/github.com\/getgrav\/grav\/issues\/2445)\n    * Better logic in `Utils::normalizePath` to handle externals properly [#2216](https:\/\/github.com\/getgrav\/grav\/issues\/2216)\n    * Fixed to force all `Page::taxonomy` to be treated as strings [#2446](https:\/\/github.com\/getgrav\/grav\/issues\/2446)\n    * Fixed issue with `Grav['user']` not being available [form#332](https:\/\/github.com\/getgrav\/grav-plugin-form\/issues\/332)\n    * Updated rounding logic for `Utils::parseSize()` [#2394](https:\/\/github.com\/getgrav\/grav\/issues\/2394)\n    * Fixed Flex simple storage not being properly initialized if used with caching"},"1.6.3":{"date":"04\/12\/2019","content":"1. [](#new)\n    * Added `Blueprint::addDynamicHandler()` method to allow custom dynamic handlers, for example `custom-options@: getCustomOptions`\n1. [](#bugfix)\n    * Missed a `CacheCommand` reference in `bin\/grav` [#2442](https:\/\/github.com\/getgrav\/grav\/issues\/2442)\n    * Fixed issue with `Utils::normalizePath` messing with external URLs [#2216](https:\/\/github.com\/getgrav\/grav\/issues\/2216)\n    * Fix for `vUndefined` versions when upgrading"},"1.6.2":{"date":"04\/11\/2019","content":"1. [](#bugfix)\n    * Revert renaming of `ClearCacheCommand` to ensure CLI GPM upgrades go smoothly"}}}
";